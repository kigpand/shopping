(this.webpackJsonptemplate_fixed=this.webpackJsonptemplate_fixed||[]).push([[0],{10:function(e,t,n){e.exports={viewContent:"view_content_viewContent__1htvD",img:"view_content_img__3Gnk7",line:"view_content_line__3ej2a",user:"view_content_user__2rt1G",content:"view_content_content__wGvQM",nickName:"view_content_nickName__251RB",address:"view_content_address__1HIiX",title:"view_content_title__1ReEO",price:"view_content_price__2tMgx",info:"view_content_info__1fWeb",renew:"view_content_renew__2L9ny",change:"view_content_change__n9Zk1",delete:"view_content_delete__3wGLj"}},20:function(e,t,n){e.exports={list:"list_list__2YiTs",img:"list_img__2UeNU",address:"list_address__1LCMW",price:"list_price__1apUC"}},21:function(e,t,n){e.exports={contents:"contents_contents__uhiVu",main:"contents_main__28cfi",list:"contents_list__1_F4k",text:"contents_text__2pnLn",no_contents:"contents_no_contents__3N0Hx"}},22:function(e,t,n){e.exports={item:"item_item__1kwTa",img:"item_img__1ANcu",address:"item_address__1Eyxz",price:"item_price__H5gb4"}},25:function(e,t,n){e.exports={logout:"logout_logout__VPF0t",text:"logout_text__2_bjJ",btn:"logout_btn__1sMQJ"}},26:function(e,t,n){e.exports={input:"search_input__3Ghek",text:"search_text__3t2CR",btn:"search_btn__VAvSZ"}},30:function(e,t,n){e.exports={currentitem:"current_item_currentitem__zt0K9",text:"current_item_text__29A-6",items:"current_item_items__BMUeu"}},36:function(e,t,n){e.exports={footer:"footer_footer__1ynEi",text:"footer_text__Mrml2"}},37:function(e,t,n){e.exports={header:"header_header__2Reok",logo:"header_logo__YlzjY",btn:"header_btn__36KBS"}},38:function(e,t,n){e.exports={home:"home_home__1DrxK",tag:"home_tag__1aJH_",tag_second:"home_tag_second__uYfPQ",text:"home_text__32Ces",adv:"home_adv__YmjXH"}},41:function(e,t,n){e.exports={app:"app_app__3qmEr"}},43:function(e,t,n){e.exports={btn:"login_btn_btn__28PTy"}},44:function(e,t,n){e.exports={login:"login_login__14FSe"}},50:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(3),s=n.n(c),i=n(40),r=n.n(i),o=(n(50),n(12)),l=n(15),u=n(7),_=n(41),j=n.n(_),d=n(20),b=n.n(d),v=function(e){var t=e.content,n=Object(u.f)();return Object(a.jsxs)("div",{className:b.a.list,onClick:function(){n.push({pathname:"/viewContent",state:{content:t}})},children:[Object(a.jsx)("img",{src:t.imgUrl,className:b.a.img,alt:"listImg"}),Object(a.jsx)("div",{className:b.a.title,children:t.title}),Object(a.jsx)("div",{className:b.a.address,children:t.address}),Object(a.jsx)("div",{className:b.a.price,children:t.price})]})},h=n(21),m=n.n(h),f=function(e){e.authService;var t=Object(c.useState)({}),n=Object(o.a)(t,2),s=n[0],i=n[1],r=Object(u.g)();return Object(c.useEffect)((function(){i(r.state.array)})),Object(a.jsx)("div",{className:m.a.contents,children:Object(a.jsxs)("div",{className:m.a.main,children:[Object(a.jsx)("h3",{className:m.a.text,children:"\uc911\uace0 \uc0c1\ud488"}),Object(a.jsxs)("div",{className:m.a.list,children:[0===Object.keys(s).length&&Object(a.jsx)("div",{className:m.a.no_contents,children:Object(a.jsx)("div",{children:"\ucc3e\ub294 \uc0c1\ud488\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."})}),Object.keys(s).map((function(e){return Object(a.jsx)(v,{content:s[e]},s[e].content_num)}))]})]})})},p=n(36),O=n.n(p),x=function(e){return Object(a.jsx)("div",{className:O.a.footer,children:Object(a.jsx)("div",{className:O.a.text,children:"made By. Ji"})})},g=n(43),N=n.n(g),k=function(e){var t=e.saveUserInfo,n=e.authService,c=e.login_state;return Object(a.jsx)("div",{className:N.a.btn,onClick:function(){n.login("Google").then((function(e){t(e.user.uid,e.user.displayName),c(!0)}))},children:"Google \ub85c\uadf8\uc778"})},w=n(25),S=n.n(w),y=function(e){var t=e.saveUserInfo,n=e.authService,c=e.nickName,s=e.login_state,i=Object(u.f)();return Object(a.jsxs)("div",{className:S.a.logout,children:[Object(a.jsxs)("div",{className:S.a.text,children:[c,"\ub2d8 \ud658\uc601\ud569\ub2c8\ub2e4!"]}),Object(a.jsx)("div",{className:S.a.btn,onClick:function(){i.push("./makeContents")},children:"\uac8c\uc2dc\uae00 \uc4f0\uae30"}),Object(a.jsx)("div",{className:S.a.btn,onClick:function(){n.logout(),t("",""),s(!1),i.push("./")},children:"\ub85c\uadf8\uc544\uc6c3"})]})},C=n(44),U=n.n(C),D=function(e){var t=e.getUser,n=e.authService,s=e.nickName,i=Object(c.useState)(!1),r=Object(o.a)(i,2),l=r[0],u=r[1],_=function(e){u(e)},j=function(e,n){t(e,n)};return Object(c.useEffect)((function(){n.onAuthChange((function(e){e&&(j(e.uid,e.displayName),u(!0)),!e&&j("","")}))})),Object(a.jsxs)("div",{className:U.a.login,children:[!l&&Object(a.jsx)(k,{authService:n,saveUserInfo:j,login_state:_}),l&&Object(a.jsx)(y,{authService:n,saveUserInfo:j,nickName:s,login_state:_})]})},A=n(26),R=n.n(A),E=function(e){var t=e.authService,n=Object(u.f)(),s=Object(c.useRef)();return Object(a.jsx)("div",{className:R.a.search,children:Object(a.jsxs)("div",{className:R.a.input,children:[Object(a.jsx)("input",{ref:s,type:"text",className:R.a.text,placeholder:"\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694...",onKeyUp:function(){if(13===window.event.keyCode){if(""===s.current.value)return;var e=t.SearchContents(s.current.value);n.push({pathname:"/contents",state:{array:e}}),s.current.value=""}}}),Object(a.jsx)("button",{className:R.a.btn,onClick:function(){if(""!==s.current.value){var e=t.SearchContents(s.current.value);n.push({pathname:"/contents",state:{array:e}}),s.current.value=""}},children:Object(a.jsx)("i",{className:"fas fa-search"})})]})})},I=n(37),G=n.n(I),z=n.p+"static/media/logo.fb99ebda.png",L=function(e){var t=e.getUser,n=e.searchData,c=e.authService,s=e.id,i=e.nickName,r=Object(u.f)();return Object(a.jsxs)("section",{className:G.a.header,children:[Object(a.jsx)("img",{className:G.a.logo,src:z,onClick:function(){r.push("/")},alt:"\ub85c\uace0"}),Object(a.jsx)(E,{searchData:n,authService:c}),Object(a.jsx)(D,{id:s,getUser:t,authService:c,nickName:i})]})},M=n(22),J=n.n(M),P=function(e){var t=e.content,n=Object(u.f)();return Object(a.jsxs)("div",{className:J.a.item,onClick:function(){n.push({pathname:"/viewContent",state:{content:t}})},children:[Object(a.jsx)("img",{src:t.imgUrl,className:J.a.img,alt:"\uac8c\uc2dc\ubb3c\uc0ac\uc9c4"}),Object(a.jsx)("div",{className:J.a.title,children:t.title}),Object(a.jsx)("div",{className:J.a.price,children:t.price}),Object(a.jsx)("div",{className:J.a.address,children:t.address})]})},B=n(30),H=n.n(B),F=function(e){var t=e.authService,n=Object(c.useState)({}),s=Object(o.a)(n,2),i=s[0],r=s[1];return Object(c.useEffect)((function(){var e=t.makeCurrentContents((function(e){r(e)}));return function(){e()}}),[]),Object(a.jsxs)("div",{className:H.a.currentitem,children:[Object(a.jsx)("h1",{className:H.a.text,children:"\ucd5c\uadfc \uac8c\uc2dc\ubb3c"}),Object(a.jsx)("div",{className:H.a.items,children:Object.keys(i).reverse().map((function(e){return e>Object.keys(i).length-9?Object(a.jsx)(P,{content:i[e]},i[e].content_num):void 0}))})]})},K=n(38),Y=n.n(K),q=function(e){var t=e.authService;return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:Y.a.home,children:Object(a.jsx)("div",{className:Y.a.tag})}),Object(a.jsx)(F,{authService:t})]})},Q=n(19),T=n.n(Q),V=n(27),W=n(28),X=n(29),Z=function(){function e(){Object(W.a)(this,e)}return Object(X.a)(e,[{key:"upload",value:function(){var e=Object(V.a)(T.a.mark((function e(t){var n,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",t),n.append("upload_preset","qvuvetti"),e.next=5,fetch("https://api.cloudinary.com/v1_1/dzjtgz64k/upload",{method:"POST",body:n});case 5:return a=e.sent,e.next=8,a.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),$=n(9),ee=n.n($),te=function(e){var t=e.id,n=e.nickName,s=e.authService,i=Object(u.f)(),r=Object(c.useRef)(),l=Object(c.useRef)(),_=Object(c.useRef)(),j=Object(c.useRef)(),d=Object(c.useState)("/img/no_img.png"),b=Object(o.a)(d,2),v=b[0],h=b[1],m=Object(c.useState)(!1),f=Object(o.a)(m,2),p=f[0],O=f[1],x=new Z,g=function(){var e=Object(V.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,x.upload(t.target.files[0]);case 3:n=e.sent,h(n.url),alert("\uc774\ubbf8\uc9c0 \ub4f1\ub85d\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),O(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:ee.a.bg,children:[Object(a.jsx)("h1",{className:ee.a.sub,children:"\uac8c\uc2dc\uae00 \uc791\uc131"}),Object(a.jsx)("input",{type:"text",className:ee.a.title,ref:r,placeholder:"\uc81c\ubaa9..."}),Object(a.jsx)("input",{type:"text",className:ee.a.price,ref:_,placeholder:"\uac00\uaca9..."}),Object(a.jsx)("input",{type:"text",className:ee.a.address,ref:j,placeholder:"\uc8fc\uc18c..."}),Object(a.jsx)("input",{type:"file",accept:"image/*",className:ee.a.img,onChange:g}),Object(a.jsx)("textarea",{name:"info",className:ee.a.info,cols:"30",rows:"10",ref:l,placeholder:"\ub0b4\uc6a9..."}),Object(a.jsxs)("div",{className:ee.a.btns,children:[p&&Object(a.jsxs)("div",{className:ee.a.loading,children:[Object(a.jsx)("div",{className:ee.a.loading_text,children:"\uc774\ubbf8\uc9c0 \uc5c5\ub85c\ub4dc \uc911..."}),Object(a.jsx)("div",{className:ee.a.spinner})]}),!p&&Object(a.jsx)("button",{className:ee.a.pushbtn,onClick:function(){if(r.current.value&&l.current.value&&_.current.value&&j.current.value){var e=r.current.value,a=v,c=l.current.value,o=_.current.value,u=j.current.value;s.pushData(t,n,e,a,c,o,u),r.current.value="",l.current.value="",_.current.value="",j.current.value="",i.push("/")}else alert("\ub0b4\uc6a9\uc744 \ucc44\uc6cc\uc8fc\uc138\uc694!")},children:"\uc791\uc131 \uc644\ub8cc"}),Object(a.jsx)("button",{className:ee.a.canclebtn,onClick:function(){i.push("/")},children:"\ucde8\uc18c"})]})]})},ne=n(10),ae=n.n(ne),ce=function(e){var t=e.authService,n=e.id,c=Object(u.g)();return Object(a.jsxs)("div",{className:ae.a.viewContent,children:[Object(a.jsx)("img",{src:c.state.content.imgUrl,className:ae.a.img,alt:"imgUrl"}),Object(a.jsxs)("div",{className:ae.a.user,children:[Object(a.jsx)("div",{className:ae.a.nickName,children:c.state.content.nickName}),Object(a.jsx)("div",{className:ae.a.address,children:c.state.content.address})]}),Object(a.jsx)("div",{className:ae.a.line}),Object(a.jsxs)("div",{className:ae.a.content,children:[Object(a.jsx)("div",{className:ae.a.title,children:c.state.content.title}),Object(a.jsx)("div",{className:ae.a.price,children:c.state.content.price}),Object(a.jsx)("div",{className:ae.a.info,children:c.state.content.info})]}),Object(a.jsx)("div",{className:ae.a.line}),n===c.state.content.user_id&&Object(a.jsx)("div",{className:ae.a.renew,children:Object(a.jsx)("button",{className:ae.a.delete,onClick:function(){t.DeleteContents(c.state.content.content_num)},children:"\uc0ad\uc81c"})})]})};var se=function(e){var t=e.authService,n=Object(c.useState)(""),s=Object(o.a)(n,2),i=s[0],r=s[1],_=Object(c.useState)(""),d=Object(o.a)(_,2),b=d[0],v=d[1];return Object(a.jsxs)("div",{className:j.a.app,children:[Object(a.jsxs)(l.a,{children:[Object(a.jsx)(L,{getUser:function(e,t){r(e),v(t)},authService:t,id:i,nickName:b}),Object(a.jsxs)(u.c,{children:[Object(a.jsx)(u.a,{path:"/",exact:!0,children:Object(a.jsx)(q,{authService:t})}),Object(a.jsx)(u.a,{path:"/contents",children:Object(a.jsx)(f,{authService:t})}),Object(a.jsx)(u.a,{path:"/makeContents",children:Object(a.jsx)(te,{id:i,nickName:b,authService:t})}),Object(a.jsx)(u.a,{path:"/viewContent",children:Object(a.jsx)(ce,{id:i,authService:t})})]})]}),Object(a.jsx)(x,{})]})},ie=(n(56),n(24)),re=ie.a.initializeApp({apiKey:"AIzaSyA-6lb5nv0zyg5AcDbE2hl2PA7FLnis-4E",authDomain:"shopping-mall-b0ad5.firebaseapp.com",databaseURL:"https://shopping-mall-b0ad5.firebaseio.com",projectId:"shopping-mall-b0ad5"}),oe=new(function(){function e(){Object(W.a)(this,e)}return Object(X.a)(e,[{key:"login",value:function(e){var t=new(ie.a.auth["".concat(e,"AuthProvider")]);return re.auth().signInWithPopup(t)}},{key:"logout",value:function(){re.auth().signOut()}},{key:"pushData",value:function(e,t,n,a,c,s,i){re.database().ref("lists/").push({content_num:Date.now(),user_id:e,nickName:t,title:n,imgUrl:a,info:c,price:s,address:i}).then(alert("\uac8c\uc2dc\uae00 \ub4f1\ub85d\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4"))}},{key:"makeCurrentContents",value:function(e){var t=re.database().ref("lists/"),n={};return t.on("value",(function(t){if(t.val()){for(var a=0;a<Object.values(t.val()).length;a++)n[a]=Object.values(t.val())[a];e(n)}else alert("\uac8c\uc2dc\uae00\uc774 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4")})),function(){return t.off()}}},{key:"SearchContents",value:function(e){console.log(e);var t=re.database().ref("lists/"),n=[];return t.on("value",(function(t){if(t.val())for(var a=0;a<Object.values(t.val()).length;a++)Object.values(t.val())[a].title.includes(e)&&n.push(Object.values(t.val())[a])})),n}},{key:"DeleteContents",value:function(e){re.database().ref("lists/").on("value",(function(t){if(t.val())for(var n=0;n<Object.values(t.val()).length;n++)Object.values(t.val())[n].content_num===e&&re.database().ref("lists/".concat(Object.keys(t.val())[n])).remove().then((function(){alert("\uac8c\uc2dc\uae00\uc774 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4"),window.location.href="/"}))}))}},{key:"ChangeContents",value:function(e){}},{key:"onAuthChange",value:function(e){ie.a.auth().onAuthStateChanged((function(t){e(t)}))}}]),e}());r.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(se,{authService:oe})}),document.getElementById("root"))},9:function(e,t,n){e.exports={bg:"make_contents_bg__ULGBa",title:"make_contents_title__2squN",price:"make_contents_price__2lm1H",address:"make_contents_address__4Mpos",img:"make_contents_img__3CRmk",info:"make_contents_info__3qLoG",btns:"make_contents_btns__18i1r",pushbtn:"make_contents_pushbtn__JfpSE",canclebtn:"make_contents_canclebtn__3Rdu5",loading:"make_contents_loading__29vVD",spinner:"make_contents_spinner__126ta",spin:"make_contents_spin__36OQo"}}},[[63,1,2]]]);
//# sourceMappingURL=main.a290be74.chunk.js.map